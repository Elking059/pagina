"use strict";(function($){$.fn.cookiepolicy=function(options){new jQuery.cookiepolicy($(this),options);return this;};$.cookiepolicy=function(options){options=$.extend({cookie:"cookierodoinfo"},options||{});if($.cookie(options.cookie)!="true"){$(".cookiepolicy").removeClass("hidden");$(".cookie-btn").on("click",function(e){e.preventDefault();$.cookie(options.cookie,true,{expires:365});$(this).parents(".cookiepolicy").remove();});}};})(jQuery);$(document).ready(function(){$.cookiepolicy();});"use strict";var mailcheckDomains=["aol.com","att.net","comcast.net","facebook.com","gmail.com","gmx.com","googlemail.com","google.com","hotmail.com","hotmail.co.uk","mac.com","me.com","mail.com","msn.com","live.com","sbcglobal.net","verizon.net","yahoo.com","yahoo.co.uk","email.com","fastmail.fm","games.com","gmx.net","hush.com","hushmail.com","icloud.com","iname.com","inbox.com","lavabit.com","love.com","outlook.com","pobox.com","protonmail.ch","protonmail.com","tutanota.de","tutanota.com","tutamail.com","tuta.io","keemail.me","rocketmail.com","safe-mail.net","wow.com","ygm.com","ymail.com","zoho.com","yandex.com","bellsouth.net","charter.net","cox.net","earthlink.net","juno.com","btinternet.com","virginmedia.com","blueyonder.co.uk","freeserve.co.uk","live.co.uk","ntlworld.com","o2.co.uk","orange.net","sky.com","talktalk.co.uk","tiscali.co.uk","virgin.net","wanadoo.co.uk","bt.com","sina.com","sina.cn","qq.com","naver.com","hanmail.net","daum.net","nate.com","yahoo.co.jp","yahoo.co.kr","yahoo.co.id","yahoo.co.in","yahoo.com.sg","yahoo.com.ph","163.com","yeah.net","126.com","21cn.com","aliyun.com","foxmail.com","hotmail.fr","live.fr","laposte.net","yahoo.fr","wanadoo.fr","orange.fr","gmx.fr","sfr.fr","neuf.fr","free.fr","gmx.de","hotmail.de","live.de","online.de","t-online.de","web.de","yahoo.de","libero.it","virgilio.it","hotmail.it","aol.it","tiscali.it","alice.it","live.it","yahoo.it","email.it","tin.it","poste.it","teletu.it","mail.ru","rambler.ru","yandex.ru","ya.ru","list.ru","hotmail.be","live.be","skynet.be","voo.be","tvcablenet.be","telenet.be","hotmail.com.ar","live.com.ar","yahoo.com.ar","fibertel.com.ar","speedy.com.ar","arnet.com.ar","yahoo.com.mx","live.com.mx","hotmail.es","hotmail.com.mx","prodigy.net.mx","yahoo.ca","hotmail.ca","bell.net","shaw.ca","sympatico.ca","rogers.com","yahoo.com.br","hotmail.com.br","outlook.com.br","uol.com.br","bol.com.br","terra.com.br","ig.com.br","itelefonica.com.br","r7.com","zipmail.com.br","globo.com","globomail.com","oi.com.br","interia.pl","wp.pl","sciaga.pl","odeon.pl","poczta.fm"];var mailcheckTopLevelDomains=["com","net","org","pl","de","it","ru","fr","es","pt","cn"];"use strict";$(document).ready(function(){if(!getCookie("exit-intent-hidden")&&!detectmob()){setTimeout(function(){document.addEventListener("mouseleave",function(e){if(e.clientY<0&&!getCookie("exit-intent-hidden")){setCookie("exit-intent-hidden","true",365);$("#exit-intent-modal").modal("show");}},false);},2000);}});"use strict";app.controller("registerCtrl",["$scope",function($scope){var vm=this;vm.suggestion='';vm.checkEmail=function(){Mailcheck.run({email:vm.form.email,domains:mailcheckDomains,topLevelDomains:mailcheckTopLevelDomains,suggested:function suggested(suggestion){vm.suggestion=suggestion.full;},empty:function empty(){vm.suggestion='';}});};vm.correctEmail=function(){vm.form.email=vm.suggestion;vm.suggestion='';};vm.submitForm=function(form,valid){if(valid){vm.formSubmitting=true;$.ajax({url:"/api/v1/register",type:"post",context:this,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{name:form.nickname,email:form.email,password:form.password},success:function success(res){if(res.status=="success"){window.top.location=window.location.href.split("?")[0];}else{setTimeout(function(){vm.formSubmitting=false;},2000);showNoty(res.message,"danger");}},error:function error(res){setTimeout(function(){vm.formSubmitting=false;},60*1000);}});}else{vm.registerForm.email.$touched=true;vm.registerForm.nickname.$touched=true;vm.registerForm.password.$touched=true;}};}]);"use strict";app.controller("loginCtrl",["$scope",function($scope){var vm=this;vm.submitForm=function(form,valid){if(valid){vm.formSubmitting=true;$.ajax({url:"/api/v1/login",type:"post",context:this,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},data:{login:form.nickname,password:form.password},success:function success(res){if(res.status=="success"){window.top.location=window.location.href.split("?")[0];}else{setTimeout(function(){vm.formSubmitting=false;},2000);showNoty(res.message,"danger");}},error:function error(err){if(typeof err.responseJSON!=='undefined'&&typeof err.responseJSON.message!=='undefined'){showNoty(err.responseJSON.message,"danger");}
setTimeout(function(){vm.formSubmitting=false;},5*1000);}});}else{vm.loginForm.nickname.$touched=true;vm.loginForm.password.$touched=true;}};}]);"use strict";function _slicedToArray(arr,i){return _arrayWithHoles(arr)||_iterableToArrayLimit(arr,i)||_nonIterableRest();}
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance");}
function _iterableToArrayLimit(arr,i){var _arr=[];var _n=true;var _d=false;var _e=undefined;try{for(var _i=arr[Symbol.iterator](),_s;!(_n=(_s=_i.next()).done);_n=true){_arr.push(_s.value);if(i&&_arr.length===i)break;}}catch(err){_d=true;_e=err;}finally{try{if(!_n&&_i["return"]!=null)_i["return"]();}finally{if(_d)throw _e;}}return _arr;}
function _arrayWithHoles(arr){if(Array.isArray(arr))return arr;}
app.controller('trustpilotFooterController',['$scope',function($scope){$scope.config={count:'',label:'',starsArray:[],reviews:[]};$scope.loadingCarousel=false;getPosts();function getRateConfig(rate){var configStars;var rates={bad:{condition:rate<=1.7,config:{color:'color-bad',gradient:'gradient-bad',label:'Bad'}},poor:{condition:rate>1.7&&rate<=2.7,config:{color:'color-poor',gradient:'gradient-poor',label:'Poor'}},average:{condition:rate>2.7&&rate<=3.7,config:{color:'color-average',gradient:'gradient-average',label:'Average'}},great:{condition:rate>3.7&&rate<=4.2,config:{color:'color-great',label:'Great'}},excellent:{condition:rate>4.2,config:{color:'color-excellent',gradient:'gradient-excellent',label:'Excellent'}}};Object.entries(rates).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),name=_ref2[0],props=_ref2[1];if(props.condition){configStars=props.config;}});return configStars;}
function drawStars(data){for(var index=1;index<=data;index++){$scope.config.starsArray.push({color:getRateConfig(data).color});}
if(!Number.isInteger(data)){$scope.config.starsArray.push({color:getRateConfig(data).gradient});}}
function drawReview(data){data.forEach(function(post){var visibleStars=[];for(var index=1;index<=5;index++){visibleStars.push({color:index<=post.stars?getRateConfig(post.stars).color:'color-neutral'});}
$scope.config.reviews.push({title:post.title,text:post.text,reviewer:post.reviewer,avatar:post.avatar||'https://gamehag.com/img/avatar.jpg',stars:visibleStars,timestamp:moment(moment.unix(post.timestamp)).fromNow()});});}
function getPosts(){$.ajax({url:'/api/v1/reviews',type:'GET',headers:{'X-CSRF-TOKEN':$('meta[name="csrf-token"]').attr('content')},success:function success(res){$scope.config.count=res.count;$scope.config.label=getRateConfig(res.rate).label;drawStars(res.rate);drawReview(res.reviews);$scope.loadingCarousel=true;$scope.$apply();},error:function error(res){throw new Error('Error occured during get Posts request');}});}}]).directive('owlCarousel',function(){return{restrict:'E',transclude:false,link:function link($scope){$scope.initCarousel=function(element){var defaultOptions={stagePadding:50,margin:10,center:true,loop:true,dots:false,nav:false,responsive:{0:{items:1.3,center:false,stagePadding:0},470:{items:1.5},730:{items:2},1024:{items:2,center:false,stagePadding:200},1140:{items:3.2},1340:{items:3.6},1500:{items:3.9},1710:{items:4.4},1810:{items:4.9},2230:{items:6}}};$(element).owlCarousel(defaultOptions);$('#carousel-next').click(function(){return $(element).trigger('next.owl.carousel');});$('#carousel-prev').click(function(){return $(element).trigger('prev.owl.carousel');});};}};}).directive('owlCarouselItem',[function(){return{restrict:'A',transclude:false,link:function link($scope,element){if($scope.$last){$scope.initCarousel(element.parent());}}};}]);